
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Emoji Dungeon Frameset</title>
<style>
  body{margin:0;background:#000}
  iframe{border:none}
  #container{
    display:grid;
    grid-template-columns:70% 30%;
    grid-template-rows:80% 20%;
    height:100vh;
  }
  #mapFrame{grid-column:1/2;grid-row:1/2;width:100%;height:100%}
  #statusFrame{grid-column:1/2;grid-row:2/3;width:100%;height:100%}
  #infoFrame{grid-column:2/3;grid-row:1/3;width:100%;height:100%}
  #cmdBar{position:fixed;bottom:0;left:0;width:100%;height:48px;border:none}
</style>
<script src="logic.js"></script>
<script>
  const loadedFrames=new Set();
  function frameLoaded(name){
    loadedFrames.add(name);
    if(loadedFrames.has('mapFrame')&&loadedFrames.has('statusFrame')&&loadedFrames.has('infoFrame')){
      if(window.broadcast) window.broadcast();
    }
  }
</script>
</head>
<body>
  <div id="container">
    <iframe id="mapFrame" name="mapFrame" src="map.html" onload="frameLoaded('mapFrame')"></iframe>
    <iframe id="statusFrame" name="statusFrame" src="status.html" onload="frameLoaded('statusFrame')"></iframe>
    <iframe id="infoFrame" name="infoFrame" src="inventory.html" onload="frameLoaded('infoFrame')"></iframe>
  </div>
  <iframe id="cmdBar" name="commandFrame" src="command.html"></iframe>
</body>
</html>
